---
k8s_custom_components:
  - name: image-config
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/toolforge-deploy
    deploy: ./deploy.sh image-config local
  - name: cert-manager
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/toolforge-deploy
    deploy: ./deploy.sh cert-manager local
  - name: volume-admission
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/toolforge-deploy
    deploy: ./deploy.sh volume-admission local
  - name: api-gateway
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/toolforge-deploy
    deploy: ./deploy.sh api-gateway local
  - name: jobs-api
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/jobs-framework-api
    build: docker build --target image -f .pipeline/blubber.yaml . -t jobs-api:latest
    deploy: ./deploy.sh local
  - name: foxtrot-ldap
    git_url: https://gitlab.wikimedia.org/repos/cloud/toolforge/foxtrot-ldap
    build: docker build --tag foxtrot-ldap:latest .
    deploy: ./deploy.sh
